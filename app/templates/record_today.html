{% extends "base.html" %}
{% block content %}

<section class="section">
  <div class="section-head">
    <div>
      <div class="pill">RECORD</div>
      <h2>Record Today</h2>
      <p class="sub">All data is stored locally in SQLite. No remote upload by default.</p>
    </div>
  </div>

  <div class="card">
    <form method="post" class="form">
      <div class="grid g2">
        <div class="field">
          <label>Date</label>
          <input type="date" name="date" required>
        </div>

        <div class="field">
          <label>Age (years)</label>
          <input type="number" name="age" min="14" max="99" required>
        </div>

        <div class="field">
          <label>Gender</label>
          <select name="gender" required>
            <option value="">-- select --</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Other">Other / Prefer not to say</option>
          </select>
        </div>

        <div class="field">
          <label>Height (m)</label>
          <input type="number" step="0.01" name="height_m" min="1.20" max="2.30" required>
        </div>

        <div class="field">
          <label>Weight (kg)</label>
          <input type="number" step="0.1" name="weight_kg" min="35" max="250" required>
        </div>

        <div class="field">
          <label>Family history of overweight/obesity</label>
          <select name="family_history" required>
            <option value="">-- select --</option>
            <option value="Y">Yes</option>
            <option value="N">No</option>
          </select>
        </div>

        <div class="field">
          <label>Activity level (typical week)</label>
          <select name="activity_level" required>
            <option value="">-- select --</option>
            <option value="low">Low</option>
            <option value="medium">Medium</option>
            <option value="high">High</option>
          </select>
        </div>

        <div class="field">
          <label>Water intake today (ml)</label>
          <input type="number" name="water_ml" min="0" max="6000" step="100" required>
        </div>
      </div>

      <div class="actions">
        <button class="btn primary" type="submit">Save</button>
        <span class="muted">Saved locally Â· Used for trends and assessment</span>
      </div>
    </form>
  </div>

  {% if submitted %}
  <div class="card soft" style="margin-top:14px;">
    <div class="pill">PREVIEW</div>
    <h3>Preview of today's record</h3>
    <div class="grid g2">
      <p><b>Date:</b> {{ data.date }}</p>
      <p><b>Age:</b> {{ data.age }}</p>
      <p><b>Gender:</b> {{ data.gender }}</p>
      <p><b>Height (m):</b> {{ data.height_m }}</p>
      <p><b>Weight (kg):</b> {{ data.weight_kg }}</p>
      <p><b>Family history:</b> {{ data.family_history }}</p>
      <p><b>Activity level:</b> {{ data.activity_level }}</p>
      <p><b>Water (ml):</b> {{ data.water_ml }}</p>
    </div>
  </div>
  {% endif %}

</section>

{% endblock %}
